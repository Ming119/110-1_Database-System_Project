*** Settings ***
Library    Selenium2Library
Resource    ../../Variables/common.txt

**keywords**
Login Page::Login As
    [Arguments]    ${user}    ${rememberMe}=${False}
    Input Text    //form//*[@id='username']    ${user}[username]
    Input Text    //form//*[@id='password']    ${user}[password]
    Run Keyword If    '${rememberMe}'=='${True}'    Click Element    //form//*[@id='remember_me']
    Click Element    //form//*[@id='submit']

Login Page::Wait Until Login Form Is Visible
    ${usernameField} =    Set Variable    //form//*[@id='username']
    ${passwordField} =    Set Variable    //form//*[@id='password']
    ${rememberMeCheckBox} =    Set Variable    //form//*[@id='remember_me']
    ${loginButton} =    Set Variable    //form//*[@id='submit']
    Wait Until Element Is Visible    ${usernameField}    ${shortPeriodOfTime}    'Username Field Should Be Visible'
    Wait Until Element Is Visible    ${passwordField}    ${shortPeriodOfTime}    'Password Field Should Be Visible'
    Wait Until Element Is Visible    ${rememberMeCheckBox}    ${shortPeriodOfTime}    'Remember Me Check Box Should Be Visible'
    Wait Until Element Is Visible    ${loginButton}    ${shortPeriodOfTime}    'Login Button Should Be Visible'
    Do Not Have An Account Button Should Be Visible
    Forgot Password Button Should Be Visible

Login Page::Click Do Not Have An Account Button
    ${doNotHaveAnAccountButton} =    Do Not Have An Account Button Should Be Visible
    Click Element    ${doNotHaveAnAccountButton}

Login Page::Click Forgot Password Button
    ${forgotPasswordButton} =    Forgot Password Button Should Be Visible
    Click Element    ${forgotPasswordButton}

Do Not Have An Account Button Should Be Visible
    ${doNotHaveAnAccountButton} =    Set Variable    //*[contains(@class, 'card-footer')]//*[normalize-space()='Do not have an account?']
    Wait Until Element Is Visible    ${doNotHaveAnAccountButton}    ${shortPeriodOfTime}    'Do Not Have An Account Button Should Be Visible'
    [Return]    ${doNotHaveAnAccountButton}

Forgot Password Button Should Be Visible
    ${forgotPasswordButton} =    Set Variable    //*[contains(@class, 'card-footer')]//*[normalize-space()='Forgot Your Password?']
    Wait Until Element Is Visible    ${forgotPasswordButton}    ${shortPeriodOfTime}    'Forgot Password Button Should Be Visible'
    [Return]    ${forgotPasswordButton}
